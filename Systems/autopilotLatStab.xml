<?xml version="1.0"?>

<!--
    Autopilot Configuration for the VC10
-->

<PropertyList>

	<!--
    ===============
    Yaw Autostabiliser and Autostiffening.
    ===============
    -->

	
	
	<!-- Yaw Damper -->
	<!-- Yaw rate, passed through a washout filter having a time constant of 2.4 seconds -->
	<!-- The wash-out filter is used to block steady state yaw rate during a turn -->	

	<filter>
		<type>high-pass</type>  <!-- The high-pass filter is also known as a wash-out filter -->
		<debug>false</debug>
		<enable>
			<condition>
				<or>
					<property>autopilot/controls/YD1_engaged</property>
					<property>autopilot/controls/YD2_engaged</property>
					<property>autopilot/controls/YDStby_engaged</property>
				</or>
			</condition>
		</enable>
		<filter-time>2.4</filter-time>
		<input>
			<expression>
				<product>
					<property>fdm/jsbsim/velocities/r-aero-rad_sec</property>
					<!--<value> 2.0 </value> -->
					<value> 20.0 </value>
					<value> 57.295779513082320876798154814105 </value>
				</product>
			</expression>
		</input>
		<output><property>fdm/jsbsim/fcs/afcs-yawdamper-deg</property></output>
	</filter>

	<filter>
		<name>Rudder Cmd</name>
		<debug>false</debug>
		<type>gain</type>
		<gain>1.0</gain>
		<input>
			<expression>
				<sum>
<!--					<property>autopilot/commands/rudderstab-Ay-deg</property>     -->
<!--					<property>autopilot/commands/rudderstab-betadot-deg</property> -->
<!--					<property>autopilot/commands/rudderstab-aileron-deg</property> -->
				<value>0</value>
				</sum>
			</expression>
		</input>
		<output><property>fdm/jsbsim/fcs/afcs-rudder-cmd-deg</property></output>
		<u_min>-6.0</u_min>
		<u_max>6.0</u_max>
	</filter>

</PropertyList>
<!--	The Rudder command summer is in the JSBSim FDM (VC10.xml)
				<input>fcs/rudder-cmd-deg</input>
				<input>fcs/rudder-trim-cmd-deg</input>
				<input>fcs/afcs-rudder-cmd-deg</input>
				<input>fcs/afcs-yawdamper-deg</input> -->